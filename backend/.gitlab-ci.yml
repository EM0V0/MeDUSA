# GitLab CI/CD Configuration for MeDUSA Backend
# Security scanning using GitLab built-in templates

stages:
  - test
  - security

variables:
  SECRET_DETECTION_ENABLED: "true"
  SAST_EXCLUDED_PATHS: ".venv, __pycache__, .aws-sam"

# Include GitLab security templates
include:
  - template: Security/SAST.gitlab-ci.yml
  - template: Security/Secret-Detection.gitlab-ci.yml

# Python SAST configuration
sast:
  stage: security
  variables:
    SAST_EXCLUDED_ANALYZERS: "gosec, nodejs-scan, phpcs-security-audit"

# Secret detection configuration  
secret_detection:
  stage: security
