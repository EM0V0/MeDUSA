<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="300" viewBox="0 0 800 300">
  <style>
    .box { fill:#f4f7fb; stroke:#2b6cb0; stroke-width:2px; }
    .text { font-family: Arial, Helvetica, sans-serif; font-size:12px; fill:#0b2a4a }
    .title { font-weight:700; font-size:13px }
    .arrow { stroke:#2b6cb0; stroke-width:2; marker-end: url(#arrowhead); }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2b6cb0" />
    </marker>
  </defs>

  <!-- Boxes -->
  <rect class="box" x="20" y="40" width="140" height="60" rx="6" />
  <text class="text title" x="40" y="60">Device / Pi</text>
  <text class="text" x="40" y="78">Bluetooth / WiFi</text>

  <rect class="box" x="200" y="20" width="160" height="100" rx="6" />
  <text class="text title" x="220" y="45">Connectivity Layer</text>
  <text class="text" x="220" y="66">AWS IoT / API Gateway</text>
  <text class="text" x="220" y="84">TLS, certs or bearer tokens</text>

  <rect class="box" x="400" y="40" width="160" height="60" rx="6" />
  <text class="text title" x="420" y="60">Lambda / Processing</text>
  <text class="text" x="420" y="78">ProcessSensorData</text>

  <rect class="box" x="600" y="40" width="160" height="60" rx="6" />
  <text class="text title" x="620" y="60">Storage & API</text>
  <text class="text" x="620" y="78">DynamoDB → API → Client</text>

  <!-- Arrows -->
  <line class="arrow" x1="160" y1="70" x2="200" y2="70" />
  <line class="arrow" x1="360" y1="70" x2="400" y2="70" />
  <line class="arrow" x1="560" y1="70" x2="600" y2="70" />

  <!-- Notes -->
  <text class="text" x="180" y="140">Auth points: Device provisioning (certs) / JWT at API Gateway</text>
  <text class="text" x="180" y="158">Token verification: Lambda Authorizer (HS256 in current impl)</text>
</svg>